import{ce as a,cf as t,cA as n,cB as o,co as e,bF as i,bG as r,bH as d,bI as s,s as c,cC as l,y as u,q as m,cD as h,bE as p,cr as v,cw as f}from"./card-3c450f9e.js";
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const b={},g=a(class extends t{constructor(){super(...arguments),this.ot=b}render(a,t){return t()}update(a,[t,o]){if(Array.isArray(t)){if(Array.isArray(this.ot)&&this.ot.length===t.length&&t.every(((a,t)=>a===this.ot[t])))return n}else if(this.ot===t)return n;return this.ot=Array.isArray(t)?Array.from(t):t,this.render(t,o)}}),y={active:!0,breakpoints:{},lazyLoadCount:0};function _(a={}){let t,n,o;const e=new Set,i=["init","select"],r=["select"];function d(){"hidden"===document.visibilityState&&t.lazyUnloadConditions?.includes("hidden")?e.forEach((a=>{t.lazyUnloadCallback&&(t.lazyUnloadCallback(a,o[a]),e.delete(a))})):"visible"===document.visibilityState&&t.lazyLoadCallback&&c()}function s(a){return e.has(a)}function c(){const a=t.lazyLoadCount,i=n.selectedScrollSnap(),r=new Set;for(let t=1;t<=a&&i-t>=0;t++)r.add(i-t);r.add(i);for(let t=1;t<=a&&i+t<o.length;t++)r.add(i+t);r.forEach((a=>{!s(a)&&t.lazyLoadCallback&&(e.add(a),t.lazyLoadCallback(a,o[a]))}))}function l(){const a=n.previousScrollSnap();s(a)&&t.lazyUnloadCallback&&(t.lazyUnloadCallback(a,o[a]),e.delete(a))}return{name:"autoLazyLoad",options:a,init:function(e,s){const{mergeOptions:u,optionsAtMedia:m}=s,h=u(y,a);t=m(h),n=e,o=n.slideNodes(),t.lazyLoadCallback&&i.forEach((a=>n.on(a,c))),t.lazyUnloadCallback&&t.lazyUnloadConditions?.includes("unselected")&&r.forEach((a=>n.on(a,l))),document.addEventListener("visibilitychange",d)},destroy:function(){t.lazyLoadCallback&&i.forEach((a=>n.off(a,c))),t.lazyUnloadCallback&&r.forEach((a=>n.off(a,l))),document.removeEventListener("visibilitychange",d)}}}const x={active:!0,breakpoints:{}};function C(a={}){let t,n,e,i=!1;const r=new o,d=new IntersectionObserver((function(a){if(!i)return void(i=!0);l(a.some((a=>a.isIntersecting)))}));function s(){r.stop()}function c(a){"unmuted"===a&&t.autoUnmuteConditions?.includes("microphone")?f():"muted"===a&&t.autoMuteConditions?.includes("microphone")&&r.start(t.microphoneMuteSeconds??60,(()=>{b()}))}function l(a){a?(t.autoPlayConditions?.includes("visible")&&h(),t.autoUnmuteConditions?.includes("visible")&&f()):(t.autoPauseConditions?.includes("hidden")&&function(){for(const a of e)m(a)?.pause()}(),t.autoMuteConditions?.includes("hidden")&&function(){for(const a of e)m(a)?.mute()}())}function u(){l("visible"===document.visibilityState)}function m(a){return t.playerSelector?a?.querySelector(t.playerSelector):null}function h(){m(e[n.selectedScrollSnap()])?.play()}function p(){m(e[n.selectedScrollSnap()])?.pause()}function v(){m(e[n.previousScrollSnap()])?.pause()}function f(){m(e[n.selectedScrollSnap()])?.unmute()}function b(){m(e[n.selectedScrollSnap()])?.mute()}function g(){m(e[n.previousScrollSnap()])?.mute()}return{name:"autoMediaActions",options:a,init:function(o,i){n=o;const{mergeOptions:r,optionsAtMedia:l}=i;t=l(r(x,a)),e=n.slideNodes(),t.autoPlayConditions?.includes("selected")&&n.containerNode().addEventListener("frigate-card:media:loaded",h),t.autoUnmuteConditions?.includes("selected")&&n.containerNode().addEventListener("frigate-card:media:loaded",f),t.autoPauseConditions?.includes("unselected")&&n.on("select",v),t.autoMuteConditions?.includes("unselected")&&n.on("select",g),n.on("destroy",p),n.on("destroy",b),document.addEventListener("visibilitychange",u),d.observe(n.containerNode()),(t.autoUnmuteConditions?.includes("microphone")||t.autoMuteConditions?.includes("microphone"))&&(a.microphoneManager?.addListener(c),n.containerNode().addEventListener("frigate-card:media:loaded",s))},destroy:function(){t.autoPlayConditions?.includes("selected")&&n.containerNode().removeEventListener("frigate-card:media:loaded",h),t.autoUnmuteConditions?.includes("selected")&&n.containerNode().removeEventListener("frigate-card:media:loaded",f),t.autoPauseConditions?.includes("unselected")&&n.off("select",v),t.autoMuteConditions?.includes("unselected")&&n.off("select",g),n.off("destroy",p),n.off("destroy",b),document.removeEventListener("visibilitychange",u),d.disconnect(),(t.autoUnmuteConditions?.includes("microphone")||t.autoMuteConditions?.includes("microphone"))&&(a.microphoneManager?.removeListener(c),n.containerNode().removeEventListener("frigate-card:media:loaded",s))}}}function z(){let a,t=[];const n=[];function o(o){const e=o.composedPath();for(const[i,r]of t.entries())if(e.includes(r)){n[i]=o.detail,i!==a.selectedScrollSnap()&&o.stopPropagation();break}}function i(o){const e=o.composedPath();for(const[i,r]of t.entries())if(e.includes(r)){delete n[i],i!==a.selectedScrollSnap()&&o.stopPropagation();break}}function r(){const t=a.selectedScrollSnap(),o=n[t];o&&e(a.containerNode(),o)}return{name:"autoMediaLoadedInfo",options:{},init:function(n){a=n,t=a.slideNodes();for(const a of t)a.addEventListener("frigate-card:media:loaded",o),a.addEventListener("frigate-card:media:unloaded",i);a.on("init",r),a.on("select",r)},destroy:function(){for(const a of t)a.removeEventListener("frigate-card:media:loaded",o),a.removeEventListener("frigate-card:media:unloaded",i);a.off("init",r),a.off("select",r)}}}const S=2,k=(a,t)=>{a._controlsHideTimer&&(a._controlsHideTimer.stop(),delete a._controlsHideTimer,delete a._controlsOriginalValue),a.controls=t},L=(a,t=1)=>{const n=a._controlsOriginalValue??a.controls;k(a,!1),a._controlsHideTimer??=new o,a._controlsOriginalValue=n,a._controlsHideTimer.start(t,(()=>{k(a,n)}))},w=async(a,t)=>{if(t?.play)try{await t.play()}catch(n){if("NotAllowedError"===n.name&&!a.isMuted()){await a.mute();try{await t.play()}catch(a){}}}};let E=class extends c{constructor(){super(...arguments),this.disabled=!1,this.label="",this._embedThumbnailTask=l(this,(()=>this.hass),(()=>this.thumbnail))}set controlConfig(a){a?.size&&this.style.setProperty("--frigate-card-next-prev-size",`${a.size}px`),this._controlConfig=a}render(){if(this.disabled||!this._controlConfig||"none"==this._controlConfig.style)return u``;const a={controls:!0,previous:"previous"===this.direction,next:"next"===this.direction,thumbnails:"thumbnails"===this._controlConfig.style,icons:["chevrons","icons"].includes(this._controlConfig.style),button:["chevrons","icons"].includes(this._controlConfig.style)};if(["chevrons","icons"].includes(this._controlConfig.style)){let t;if("chevrons"===this._controlConfig.style)t="previous"===this.direction?"mdi:chevron-left":"mdi:chevron-right";else{if(!this.icon)return u``;t=this.icon}return u` <ha-icon-button class="${m(a)}" .label=${this.label}>
        <ha-icon icon=${t}></ha-icon>
      </ha-icon-button>`}return this.thumbnail?h(this,this._embedThumbnailTask,(t=>t?u`<img
              src="${t}"
              class="${m(a)}"
              title="${this.label}"
              aria-label="${this.label}"
            />`:u``),{inProgressFunc:()=>u`<div class=${m(a)}></div>`}):u``}static get styles(){return p("ha-icon-button.button {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 0px;\n  margin: 3px;\n  --ha-icon-display: block;\n  /* Buttons can always be clicked */\n  pointer-events: auto;\n  opacity: 0.9;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.6;\n  }\n  100% {\n    opacity: 1;\n  }\n}\nha-icon[data-domain=alert][data-state=on],\nha-icon[data-domain=automation][data-state=on],\nha-icon[data-domain=binary_sensor][data-state=on],\nha-icon[data-domain=calendar][data-state=on],\nha-icon[data-domain=camera][data-state=streaming],\nha-icon[data-domain=cover][data-state=open],\nha-icon[data-domain=fan][data-state=on],\nha-icon[data-domain=humidifier][data-state=on],\nha-icon[data-domain=light][data-state=on],\nha-icon[data-domain=input_boolean][data-state=on],\nha-icon[data-domain=lock][data-state=unlocked],\nha-icon[data-domain=media_player][data-state=on],\nha-icon[data-domain=media_player][data-state=paused],\nha-icon[data-domain=media_player][data-state=playing],\nha-icon[data-domain=script][data-state=on],\nha-icon[data-domain=sun][data-state=above_horizon],\nha-icon[data-domain=switch][data-state=on],\nha-icon[data-domain=timer][data-state=active],\nha-icon[data-domain=vacuum][data-state=cleaning],\nha-icon[data-domain=group][data-state=on],\nha-icon[data-domain=group][data-state=home],\nha-icon[data-domain=group][data-state=open],\nha-icon[data-domain=group][data-state=locked],\nha-icon[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=pending],\nha-icon[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=plant][data-state=problem],\nha-icon[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\nha-icon-button[data-domain=alert][data-state=on],\nha-icon-button[data-domain=automation][data-state=on],\nha-icon-button[data-domain=binary_sensor][data-state=on],\nha-icon-button[data-domain=calendar][data-state=on],\nha-icon-button[data-domain=camera][data-state=streaming],\nha-icon-button[data-domain=cover][data-state=open],\nha-icon-button[data-domain=fan][data-state=on],\nha-icon-button[data-domain=humidifier][data-state=on],\nha-icon-button[data-domain=light][data-state=on],\nha-icon-button[data-domain=input_boolean][data-state=on],\nha-icon-button[data-domain=lock][data-state=unlocked],\nha-icon-button[data-domain=media_player][data-state=on],\nha-icon-button[data-domain=media_player][data-state=paused],\nha-icon-button[data-domain=media_player][data-state=playing],\nha-icon-button[data-domain=script][data-state=on],\nha-icon-button[data-domain=sun][data-state=above_horizon],\nha-icon-button[data-domain=switch][data-state=on],\nha-icon-button[data-domain=timer][data-state=active],\nha-icon-button[data-domain=vacuum][data-state=cleaning],\nha-icon-button[data-domain=group][data-state=on],\nha-icon-button[data-domain=group][data-state=home],\nha-icon-button[data-domain=group][data-state=open],\nha-icon-button[data-domain=group][data-state=locked],\nha-icon-button[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon-button[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon-button[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon-button[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon-button[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=pending],\nha-icon-button[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=plant][data-state=problem],\nha-icon-button[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon-button[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\n:host {\n  --frigate-card-next-prev-size: 48px;\n  --frigate-card-next-prev-size-hover: calc(var(--frigate-card-next-prev-size) * 2);\n  --frigate-card-prev-position: 45px;\n  --frigate-card-next-position: 45px;\n  --mdc-icon-button-size: var(--frigate-card-next-prev-size);\n  --mdc-icon-size: calc(var(--mdc-icon-button-size) / 2);\n}\n\n.controls {\n  position: absolute;\n  z-index: 1;\n  overflow: hidden;\n}\n\n.controls.previous {\n  left: var(--frigate-card-prev-position);\n}\n\n.controls.next {\n  right: var(--frigate-card-next-position);\n}\n\n.controls.icons {\n  top: calc(50% - var(--frigate-card-next-prev-size) / 2);\n}\n\n.controls.thumbnails {\n  border-radius: 50%;\n  height: var(--frigate-card-next-prev-size);\n  top: calc(50% - var(--frigate-card-next-prev-size) / 2);\n  box-shadow: var(--frigate-card-css-box-shadow, 0px 0px 20px 5px black);\n  transition: all 0.2s ease-out;\n  opacity: 0.8;\n  aspect-ratio: 1/1;\n}\n\n.controls.thumbnails:hover {\n  opacity: 1 !important;\n  height: var(--frigate-card-next-prev-size-hover);\n  top: calc(50% - var(--frigate-card-next-prev-size-hover) / 2);\n}\n\n.controls.previous.thumbnails:hover {\n  left: calc(var(--frigate-card-prev-position) - (var(--frigate-card-next-prev-size-hover) - var(--frigate-card-next-prev-size)) / 2);\n}\n\n.controls.next.thumbnails:hover {\n  right: calc(var(--frigate-card-next-position) - (var(--frigate-card-next-prev-size-hover) - var(--frigate-card-next-prev-size)) / 2);\n}")}};i([r({attribute:!1})],E.prototype,"direction",void 0),i([r({attribute:!1})],E.prototype,"hass",void 0),i([d()],E.prototype,"_controlConfig",void 0),i([r({attribute:!1})],E.prototype,"thumbnail",void 0),i([r({attribute:!1})],E.prototype,"icon",void 0),i([r({attribute:!0,type:Boolean})],E.prototype,"disabled",void 0),i([r()],E.prototype,"label",void 0),E=i([s("frigate-card-next-previous-control")],E);const $=(a,t)=>!t&&a?.isGrid()?{mode:"none",duration_seconds:2}:{mode:"popup-bottom-right",duration_seconds:2,...t};let A=class extends c{constructor(){super(...arguments),this._toastRef=v()}render(){if(!(this.text&&this.config&&this.config.mode&&void 0!==this.config.duration_seconds&&"none"!==this.config.mode&&this.fitInto))return u``;const a=this.config.mode.match(/-top-/)?"top":"bottom",t=this.config.mode.match(/-left$/)?"left":"right";return u` <paper-toast
      ${f(this._toastRef)}
      class="capsule"
      .duration=${1e3*this.config.duration_seconds}
      .verticalAlign=${a}
      .horizontalAlign=${t}
      .text="${this.text}"
      .fitInto=${this.fitInto}
    >
      ${this.logo?u`<img src=${this.logo} />`:""}
    </paper-toast>`}isVisible(){return this._toastRef.value?.opened??!1}hide(){this._toastRef.value&&(this._toastRef.value.opened=!1)}show(){this._toastRef.value&&(this._toastRef.value.opened=!1,this._toastRef.value.opened=!0)}static get styles(){return p(":host {\n  --paper-toast-background-color: rgba(0, 0, 0, 0.6);\n  --paper-toast-color: white;\n  pointer-events: none;\n  position: relative;\n}\n\npaper-toast {\n  max-width: unset;\n  min-width: unset;\n  display: flex;\n  align-items: center;\n  position: absolute;\n}\n\npaper-toast.paper-toast-open {\n  position: relative;\n}\n\npaper-toast img {\n  max-height: 24px;\n  padding-left: 10px;\n}")}};i([r({attribute:!1})],A.prototype,"config",void 0),i([r({attribute:!1})],A.prototype,"text",void 0),i([r({attribute:!1})],A.prototype,"fitInto",void 0),i([r({attribute:!1})],A.prototype,"logo",void 0),A=i([s("frigate-card-title-control")],A);export{_ as A,S as M,z as a,C as b,$ as g,L as h,g as i,w as p,k as s};
